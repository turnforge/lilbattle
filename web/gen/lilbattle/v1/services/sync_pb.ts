// @generated by protoc-gen-es v2.9.0 with parameter "target=ts"
// @generated from file lilbattle/v1/services/sync.proto (package lilbattle.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { BroadcastRequestSchema, BroadcastResponseSchema, GameUpdateSchema, SubscribeRequestSchema } from "../models/sync_pb";
import { file_lilbattle_v1_models_sync } from "../models/sync_pb";
import { file_google_api_annotations } from "../../../google/api/annotations_pb";

/**
 * Describes the file lilbattle/v1/services/sync.proto.
 */
export const file_lilbattle_v1_services_sync: GenFile = /*@__PURE__*/
  fileDesc("CiBsaWxiYXR0bGUvdjEvc2VydmljZXMvc3luYy5wcm90bxIMbGlsYmF0dGxlLnYxMtcBCg9HYW1lU3luY1NlcnZpY2USRwoJU3Vic2NyaWJlEh4ubGlsYmF0dGxlLnYxLlN1YnNjcmliZVJlcXVlc3QaGC5saWxiYXR0bGUudjEuR2FtZVVwZGF0ZTABEnsKCUJyb2FkY2FzdBIeLmxpbGJhdHRsZS52MS5Ccm9hZGNhc3RSZXF1ZXN0Gh8ubGlsYmF0dGxlLnYxLkJyb2FkY2FzdFJlc3BvbnNlIi2C0+STAic6ASoiIi92MS9zeW5jL2dhbWVzL3tnYW1lX2lkfS9icm9hZGNhc3RCtwEKEGNvbS5saWxiYXR0bGUudjFCCVN5bmNQcm90b1ABWkdnaXRodWIuY29tL3R1cm5mb3JnZS9saWxiYXR0bGUvZ2VuL2dvL2xpbGJhdHRsZS92MS9zZXJ2aWNlcztsaWxiYXR0bGV2MaICA0xYWKoCDExpbGJhdHRsZS5WMcoCDExpbGJhdHRsZVxWMeICGExpbGJhdHRsZVxWMVxHUEJNZXRhZGF0YeoCDUxpbGJhdHRsZTo6VjFiBnByb3RvMw", [file_lilbattle_v1_models_sync, file_google_api_annotations]);

/**
 * GameSyncService handles real-time synchronization of game state across
 * multiple connected clients. It enables multiplayer gameplay by:
 * 1. Broadcasting moves/changes to all subscribed viewers
 * 2. Validating moves submitted by clients (local-first model)
 * 3. Providing reconnection support via sequence numbers
 *
 * Architecture:
 * - Originator: Processes moves locally (optimistic) → publishes to server → verifies response
 * - Viewer: Subscribes to game → receives WorldChanges → applies via presenter
 *
 * RNG Security (Blinded Seed):
 * - Server has a game secret (never revealed to clients)
 * - For each action, seed = SHA256(secret || game_id || group || move_index)
 * - Client computes RNG locally for immediate feedback
 * - Client reports RNG values consumed in PublishMoves
 * - Server recomputes with blinded seed and verifies values match
 * - Prevents cherry-picking (can't predict outcomes before committing)
 * - Prevents re-rolling (seed is deterministic per action)
 *
 * @generated from service lilbattle.v1.GameSyncService
 */
export const GameSyncService: GenService<{
  /**
   * Subscribe to game changes. Server streams GameUpdate messages to clients
   * as other players make moves. Supports reconnection via from_sequence.
   * NOTE: No HTTP annotation - Subscribe uses WebSocket via servicekit grpcws
   * at /ws/v1/sync/games/{game_id}/subscribe
   *
   * @generated from rpc lilbattle.v1.GameSyncService.Subscribe
   */
  subscribe: {
    methodKind: "server_streaming";
    input: typeof SubscribeRequestSchema;
    output: typeof GameUpdateSchema;
  },
  /**
   * Broadcast sends a GameUpdate to all subscribers of a game.
   * Called internally by GamesService after ProcessMoves succeeds.
   * Not intended for direct client use.
   *
   * @generated from rpc lilbattle.v1.GameSyncService.Broadcast
   */
  broadcast: {
    methodKind: "unary";
    input: typeof BroadcastRequestSchema;
    output: typeof BroadcastResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_lilbattle_v1_services_sync, 0);

